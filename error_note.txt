    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 169.6° -> 178.0°. Rotating: -8.4°
✅ Yaw Correction Success: 176.4°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to S at (4,0) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: 176.5° -> 178.0°. Rotating: -1.5°
✅ Yaw Correction Success: 176.5°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.564/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 184.97 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (4, 0), Direction: South, Time: 2025-10-05T10:26:10.973947Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 20 at (4, 0), Facing: S ---
📍 [step_20] Position: (4, 0), Direction: South, Time: 2025-10-05T10:26:12.122831Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 177.4° -> 178.0°. Rotating: -0.6°
✅ Yaw Correction Success: 177.4°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 186.7cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 168.3° -> 178.0°. Rotating: -9.7°
✅ Yaw Correction Success: 176.5°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
🔩 IMU Drift Compensation Updated: Visited 20 nodes. New offset is -4.0°
Path to E at (4,1) seems clear. Attempting move.
🔄 Rotating 90° LEFT...

🔧 Correcting Yaw: 176.4° -> 86.0°. Rotating: 90.4°
✅ Yaw Correction Success: 86.8°
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: 86.7° -> 86.0°. Rotating: 0.7°
✅ Yaw Correction Success: 86.7°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.562/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 399.70 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (4, 1), Direction: East, Time: 2025-10-05T10:26:31.501455Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 21 at (4, 1), Facing: E ---
📍 [step_21] Position: (4, 1), Direction: East, Time: 2025-10-05T10:26:32.642908Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 85.8° -> 86.0°. Rotating: -0.2°
✅ Yaw Correction Success: 85.8°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 399.2cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at -90°: ['519.8', '562.9', '562.9'] cm
    -> Average ToF reading: 548.50 cm.
    -> ToF Confirmation: NO WALL.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 76.6° -> 86.0°. Rotating: -9.4°
✅ Yaw Correction Success: 84.5°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to E at (4,2) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: 84.5° -> 86.0°. Rotating: -1.5°
✅ Yaw Correction Success: 84.5°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.566/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 348.21 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (4, 2), Direction: East, Time: 2025-10-05T10:26:51.164046Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📦 Saved 1 objects to cell (4, 3)
✅ Saved 1 objects to map at next position (4, 3)
   📦 Object: Green Uncertain in Left zone (attached to left wall)
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 22 at (4, 2), Facing: E ---
📍 [step_22] Position: (4, 2), Direction: East, Time: 2025-10-05T10:26:52.312465Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 85.2° -> 86.0°. Rotating: -0.8°
✅ Yaw Correction Success: 85.2°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 350.4cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at -90°: ['395.4', '293.8', '293.8'] cm
    -> Average ToF reading: 327.65 cm.
    -> ToF Confirmation: NO WALL.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 75.6° -> 86.0°. Rotating: -10.4°
✅ Yaw Correction Success: 84.7°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to E at (4,3) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: 84.7° -> 86.0°. Rotating: -1.3°
✅ Yaw Correction Success: 84.7°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.557/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 296.09 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (4, 3), Direction: East, Time: 2025-10-05T10:27:15.771379Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 23 at (4, 3), Facing: E ---
📍 [step_23] Position: (4, 3), Direction: East, Time: 2025-10-05T10:27:16.914647Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 84.9° -> 86.0°. Rotating: -1.1°
✅ Yaw Correction Success: 84.9°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 293.5cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at -90°: ['319.8', '320.7', '320.7'] cm
    -> Average ToF reading: 320.38 cm.
    -> ToF Confirmation: NO WALL.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 73.9° -> 86.0°. Rotating: -12.1°
✅ Yaw Correction Success: 84.2°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to E at (4,4) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: 84.5° -> 86.0°. Rotating: -1.5°
✅ Yaw Correction Success: 84.5°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.563/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 240.48 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (4, 4), Direction: East, Time: 2025-10-05T10:27:37.366580Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 24 at (4, 4), Facing: E ---
📍 [step_24] Position: (4, 4), Direction: East, Time: 2025-10-05T10:27:38.525324Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 84.9° -> 86.0°. Rotating: -1.1°
✅ Yaw Correction Success: 84.9°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 240.0cm -> FREE
[LEFT] Wall Check Error: Not enough sensor data.

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 74.7° -> 86.0°. Rotating: -11.3°
✅ Yaw Correction Success: 84.3°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to N at (3,4) seems clear. Attempting move.
🔄 Rotating 90° LEFT...

🔧 Correcting Yaw: 84.2° -> -4.0°. Rotating: 88.2°
✅ Yaw Correction Success: -2.5°
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -2.3° -> -4.0°. Rotating: 1.7°
✅ Yaw Correction Success: -2.3°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.560/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 60.07 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (3, 4), Direction: North, Time: 2025-10-05T10:28:00.025389Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 25 at (3, 4), Facing: N ---
📍 [step_25] Position: (3, 4), Direction: North, Time: 2025-10-05T10:28:01.211364Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -4.7° -> -4.0°. Rotating: -0.7°
✅ Yaw Correction Success: -4.7°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 80.1cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: -16.2° -> -4.0°. Rotating: -12.2°
✅ Yaw Correction Success: -5.2°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to N at (2,4) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -5.1° -> -4.0°. Rotating: -1.1°
✅ Yaw Correction Success: -5.1°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.560/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 51.22 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (2, 4), Direction: North, Time: 2025-10-05T10:28:26.741505Z
🚫 Front wall detected at new position - Skipping object detection

--- Step 26 at (2, 4), Facing: N ---
📍 [step_26] Position: (2, 4), Direction: North, Time: 2025-10-05T10:28:26.866582Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -4.6° -> -4.0°. Rotating: -0.6°
✅ Yaw Correction Success: -4.6°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 51.8cm -> OCCUPIED

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: -14.9° -> -4.0°. Rotating: -10.9°
✅ Yaw Correction Success: -5.3°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to N at (1,4) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -5.4° -> -4.0°. Rotating: -1.4°
✅ Yaw Correction Success: -5.4°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.569/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 115.14 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (1, 4), Direction: North, Time: 2025-10-05T10:28:48.675112Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 27 at (1, 4), Facing: N ---
📍 [step_27] Position: (1, 4), Direction: North, Time: 2025-10-05T10:28:49.790731Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -4.9° -> -4.0°. Rotating: -0.9°
✅ Yaw Correction Success: -4.9°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 115.9cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: -16.0° -> -4.0°. Rotating: -12.0°
✅ Yaw Correction Success: -5.7°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to W at (1,3) seems clear. Attempting move.
🔄 Rotating 90° LEFT...

🔧 Correcting Yaw: -5.9° -> -94.0°. Rotating: 88.1°
✅ Yaw Correction Success: -92.8°
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -92.6° -> -94.0°. Rotating: 1.4°
✅ Yaw Correction Success: -92.6°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.561/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 259.35 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (1, 3), Direction: West, Time: 2025-10-05T10:29:14.224264Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 28 at (1, 3), Facing: W ---
📍 [step_28] Position: (1, 3), Direction: West, Time: 2025-10-05T10:29:15.417037Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -94.4° -> -94.0°. Rotating: -0.4°
✅ Yaw Correction Success: -94.4°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 269.7cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at 90°: ['188.5', '187.6', '187.6'] cm
    -> Average ToF reading: 187.95 cm.
    -> ToF Confirmation: NO WALL.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: -107.3° -> -94.0°. Rotating: -13.3°
✅ Yaw Correction Success: -95.4°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to W at (1,2) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -95.3° -> -94.0°. Rotating: -1.3°
✅ Yaw Correction Success: -95.3°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.565/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 272.22 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (1, 2), Direction: West, Time: 2025-10-05T10:29:45.486522Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 29 at (1, 2), Facing: W ---
📍 [step_29] Position: (1, 2), Direction: West, Time: 2025-10-05T10:29:46.625680Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -94.8° -> -94.0°. Rotating: -0.8°
✅ Yaw Correction Success: -94.8°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 278.1cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at 90°: ['165.2', '165.2', '223.3'] cm
    -> Average ToF reading: 184.58 cm.
    -> ToF Confirmation: NO WALL.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: -108.0° -> -94.0°. Rotating: -14.0°
✅ Yaw Correction Success: -95.9°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to W at (1,1) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -95.8° -> -94.0°. Rotating: -1.8°
✅ Yaw Correction Success: -95.8°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.564/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 246.65 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (1, 1), Direction: West, Time: 2025-10-05T10:30:10.978209Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 30 at (1, 1), Facing: W ---
📍 [step_30] Position: (1, 1), Direction: West, Time: 2025-10-05T10:30:12.128604Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -94.9° -> -94.0°. Rotating: -0.9°
✅ Yaw Correction Success: -94.9°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 248.9cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at 90°: ['338.7', '338.7', '338.6'] cm
    -> Average ToF reading: 338.67 cm.
    -> ToF Confirmation: NO WALL.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: -110.0° -> -94.0°. Rotating: -16.0°
✅ Yaw Correction Success: -95.2°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
🔩 IMU Drift Compensation Updated: Visited 30 nodes. New offset is -6.0°
Path to S at (2,1) seems clear. Attempting move.
🔄 Rotating 90° LEFT...

🔧 Correcting Yaw: -95.1° -> 174.0°. Rotating: 90.9°
✅ Yaw Correction Success: 175.4°
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: 175.8° -> 174.0°. Rotating: 1.8°
✅ Yaw Correction Success: 175.8°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.563/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 318.98 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (2, 1), Direction: South, Time: 2025-10-05T10:30:40.558456Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 31 at (2, 1), Facing: S ---
📍 [step_31] Position: (2, 1), Direction: South, Time: 2025-10-05T10:30:41.718731Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 173.7° -> 174.0°. Rotating: -0.3°
✅ Yaw Correction Success: 173.7°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 323.5cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 160.2° -> 174.0°. Rotating: -13.8°
✅ Yaw Correction Success: 172.2°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to S at (3,1) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: 172.0° -> 174.0°. Rotating: -2.0°
✅ Yaw Correction Success: 172.0°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.568/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 273.29 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (3, 1), Direction: South, Time: 2025-10-05T10:31:13.293279Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 32 at (3, 1), Facing: S ---
📍 [step_32] Position: (3, 1), Direction: South, Time: 2025-10-05T10:31:14.419258Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 172.9° -> 174.0°. Rotating: -1.1°
✅ Yaw Correction Success: 172.9°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 274.6cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at 90°: ['19.4', '19.4', '19.1'] cm
    -> Average ToF reading: 19.31 cm.
    -> ToF Confirmation: WALL DETECTED.
    -> Final Result for Right side: WALL

--- Adjusting Right Side (Yaw locked at 174.00°) ---
   -> Config: ID=2, Port=1, Target=13.0cm
Adjusting Right... Current: 14.94cm, Target: 13.0cm, Error: -1.94cm, Speed: 0.087
[Right] Target distance reached! Final distance: 13.67 cm

🔧 Correcting Yaw: 159.7° -> 174.0°. Rotating: -14.3°
✅ Yaw Correction Success: 173.0°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to E at (3,2) seems clear. Attempting move.
🔄 Rotating 90° LEFT...

🔧 Correcting Yaw: 173.2° -> 84.0°. Rotating: 89.2°
✅ Yaw Correction Success: 85.5°
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: 85.7° -> 84.0°. Rotating: 1.7°
✅ Yaw Correction Success: 85.7°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.569/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 331.31 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (3, 2), Direction: East, Time: 2025-10-05T10:31:43.342569Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 33 at (3, 2), Facing: E ---
📍 [step_33] Position: (3, 2), Direction: East, Time: 2025-10-05T10:31:44.529361Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 83.7° -> 84.0°. Rotating: -0.3°
✅ Yaw Correction Success: 83.7°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 327.6cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at -90°: ['298.9', '298.9', '307.1'] cm
    -> Average ToF reading: 301.60 cm.
    -> ToF Confirmation: NO WALL.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 68.1° -> 84.0°. Rotating: -15.9°
✅ Yaw Correction Success: 82.7°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to E at (3,3) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: 83.0° -> 84.0°. Rotating: -1.0°
✅ Yaw Correction Success: 83.0°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.564/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 297.88 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (3, 3), Direction: East, Time: 2025-10-05T10:32:13.109342Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 34 at (3, 3), Facing: E ---
📍 [step_34] Position: (3, 3), Direction: East, Time: 2025-10-05T10:32:14.246651Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 83.1° -> 84.0°. Rotating: -0.9°
✅ Yaw Correction Success: 83.1°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 298.3cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at -90°: ['226.2', '226.0', '226.0'] cm
    -> Average ToF reading: 226.06 cm.
    -> ToF Confirmation: NO WALL.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 66.5° -> 84.0°. Rotating: -17.5°
✅ Yaw Correction Success: 82.6°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to N at (2,3) seems clear. Attempting move.
🔄 Rotating 90° LEFT...

🔧 Correcting Yaw: 82.7° -> -6.0°. Rotating: 88.7°
✅ Yaw Correction Success: -5.1°
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -4.3° -> -6.0°. Rotating: 1.7°
✅ Yaw Correction Success: -4.3°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.563/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 186.13 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (2, 3), Direction: North, Time: 2025-10-05T10:32:52.390147Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 35 at (2, 3), Facing: N ---
📍 [step_35] Position: (2, 3), Direction: North, Time: 2025-10-05T10:32:53.541023Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -6.4° -> -6.0°. Rotating: -0.4°
✅ Yaw Correction Success: -6.4°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 173.8cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: -22.5° -> -6.0°. Rotating: -16.5°
✅ Yaw Correction Success: -7.5°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to W at (2,2) seems clear. Attempting move.
🔄 Rotating 90° LEFT...

🔧 Correcting Yaw: -7.6° -> -96.0°. Rotating: 88.4°
✅ Yaw Correction Success: -95.1°
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -94.8° -> -96.0°. Rotating: 1.2°
✅ Yaw Correction Success: -94.8°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.565/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 274.45 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (2, 2), Direction: West, Time: 2025-10-05T10:33:24.274646Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 36 at (2, 2), Facing: W ---
📍 [step_36] Position: (2, 2), Direction: West, Time: 2025-10-05T10:33:25.427290Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -96.5° -> -96.0°. Rotating: -0.5°
✅ Yaw Correction Success: -96.5°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 275.3cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at 90°: ['357.4', '355.9', '355.9'] cm
    -> Average ToF reading: 356.40 cm.
    -> ToF Confirmation: NO WALL.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: -114.3° -> -96.0°. Rotating: -18.3°
✅ Yaw Correction Success: -98.0°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
No immediate unvisited path. Initiating backtrack...
🎉 EXPLORATION COMPLETE! No reachable unvisited cells remain.

🎉 === INTEGRATED EXPLORATION PHASE FINISHED ===


--- NAVIGATION TO TARGET PHASE: From (2, 2) to (5, 0) ---
✅ Path found to target: [(2, 2), (3, 2), (4, 2), (5, 2), (5, 1), (5, 0)]
🎯 Executing Final Navigation Path: [(2, 2), (3, 2), (4, 2), (5, 2), (5, 1), (5, 0)]
📍 [Final Navigation_start] Position: (2, 2), Direction: West, Time: 2025-10-05T10:33:44.535360Z     
🔄 Rotating 90° LEFT...

🔧 Correcting Yaw: -98.1° -> 174.0°. Rotating: 87.9°
✅ Yaw Correction Success: 175.2°
   -> [Final Navigation] Confirming path to (3,2) with ToF...
   -> [Final Navigation] Real-time ToF check: Path is CLEAR.

🔧 Correcting Yaw: 175.3° -> 174.0°. Rotating: 1.3°
✅ Yaw Correction Success: 175.3°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.569/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 308.52 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [Final Navigation_moved] Position: (3, 2), Direction: South, Time: 2025-10-05T10:34:04.424455Z    
   -> [Final Navigation] Performing side alignment at new position (3, 2)

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 317.0cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️ User interrupted exploration.
💾 Saving data before exit...
🛑 Capture thread stopped
🛑 Processing thread stopped.
🛑 Camera display thread stopped

ตอนช่วงการรันหลังๆ มันประมวลผลช้ามากๆ กว่าจะออกเดินไม่รู้ทำไม
[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at 90°: ['357.4', '355.9', '355.9'] cm
    -> Average ToF reading: 356.40 cm.
    -> ToF Confirmation: NO WALL.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

อันนี้ 1 ที่เวลาสแกนขวาแล้วรอนานมาก


🔧 Correcting Yaw: -7.6° -> -96.0°. Rotating: 88.4°
✅ Yaw Correction Success: -95.1°
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

อันนี้อีกที่ กว่าจะออกเดินใช้เวลานานหลังจาก print ToF confir... ในช่วงบล็อคการเดินหลังๆ