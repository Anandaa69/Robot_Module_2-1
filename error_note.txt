(.venv) PS F:\Coder\Year2-1\Robot_Module> & F:\Coder\Year2-1\Robot_Module\.venv\Scripts\python.exe f:/Coder/Year2-1/Robot_Module/integrated_complete_ready.py
⚠️ CUDA not available, CPU path

🔄 Found previous session data!
Do you want to resume from previous session? (y/n): n
🆕 Starting fresh session...
🎯 Initializing Integrated Object Detection System...
🖼️  ObjectTracker in CPU mode
🤖 Connecting to RoboMaster...
🚀 Capture thread started
🧠 Processing thread started.
✅ Object Detection System initialized (Camera ON, Detection OFF)
⏳ Waiting for camera to be ready...
⚠️ Camera not ready (attempt 1/5), retrying connection...
✅ RoboMaster connected & camera streaming
🔌 Connection closed
🤖 Connecting to RoboMaster...
✅ RoboMaster connected & camera streaming
🔌 Connection closed
🤖 Connecting to RoboMaster...
✅ RoboMaster connected & camera streaming
✅ Camera is ready!
🎯 Camera confirmed ready - Starting exploration...
📹 Camera display thread started
🤖 Connecting to robot...
 GIMBAL: Centering gimbal...
🆕 Starting new exploration...
📍 [new_session_start] Position: (3, 0), Direction: East, Time: 2025-10-05T07:31:16.841490Z
🚀 Starting Integrated Exploration with Object Detection...

--- Step 1 at (3, 0), Facing: E ---
📍 [step_1] Position: (3, 0), Direction: East, Time: 2025-10-05T07:31:16.842495Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 0.9° -> 0.0°. Rotating: 0.9°
✅ Yaw Correction Success: 0.9°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 191.4cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at -90°: ['17.8', '18.1', '18.1'] cm
    -> Average ToF reading: 17.97 cm.
    -> ToF Confirmation: WALL DETECTED.
    -> Final Result for Left side: WALL

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Right side: WALL

--- Adjusting Left Side (Yaw locked at 0.00°) ---
   -> Config: ID=1, Port=1, Target=13.0cm

[Left] Target distance reached! Final distance: 13.25 cm

--- Adjusting Right Side (Yaw locked at 0.00°) ---
   -> Config: ID=2, Port=1, Target=13.0cm

[Right] Target distance reached! Final distance: 12.31 cm

🔧 Correcting Yaw: 0.7° -> 0.0°. Rotating: 0.7°
✅ Yaw Correction Success: 0.7°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📦 Saved 2 objects to cell (3, 1)
✅ Saved 2 objects to map at next position (3, 1)
   📦 Object: Blue Uncertain in Left zone (attached to left wall)
   📦 Object: Red Square in Right zone (attached to right wall)
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to E at (3,1) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: 0.7° -> 0.0°. Rotating: 0.7°
✅ Yaw Correction Success: 0.7°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.564/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 134.10 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (3, 1), Direction: East, Time: 2025-10-05T07:31:26.658914Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📦 Saved 1 objects to cell (3, 2)
✅ Saved 1 objects to map at next position (3, 2)
   📦 Object: Red Uncertain in Left zone (attached to left wall)
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 2 at (3, 1), Facing: E ---
📍 [step_2] Position: (3, 1), Direction: East, Time: 2025-10-05T07:31:27.837500Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -0.2° -> 0.0°. Rotating: -0.2°
✅ Yaw Correction Success: -0.2°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 135.0cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Right side: WALL

--- Adjusting Right Side (Yaw locked at 0.00°) ---
   -> Config: ID=2, Port=1, Target=13.0cm
Adjusting Right... Current: 12.16cm, Target: 13.0cm, Error:  0.84cm, Speed: -0.038
[Right] Target distance reached! Final distance: 12.85 cm

🔧 Correcting Yaw: -2.5° -> 0.0°. Rotating: -2.5°
✅ Yaw Correction Success: -2.5°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to E at (3,2) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -2.4° -> 0.0°. Rotating: -2.4°
✅ Yaw Correction Success: -2.4°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.562/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 77.60 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (3, 2), Direction: East, Time: 2025-10-05T07:31:36.416729Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📦 Saved 1 objects to cell (3, 3)
✅ Saved 1 objects to map at next position (3, 3)
   📦 Object: Green Rectangle_H in Center zone (in center of cell)
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 3 at (3, 2), Facing: E ---
📍 [step_3] Position: (3, 2), Direction: East, Time: 2025-10-05T07:31:37.636785Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -1.1° -> 0.0°. Rotating: -1.1°
✅ Yaw Correction Success: -1.1°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 78.2cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Right side: WALL

--- Adjusting Right Side (Yaw locked at 0.00°) ---
   -> Config: ID=2, Port=1, Target=13.0cm
Adjusting Right... Current: 14.05cm, Target: 13.0cm, Error: -1.05cm, Speed: 0.047
[Right] Target distance reached! Final distance: 12.31 cm

🔧 Correcting Yaw: -2.8° -> 0.0°. Rotating: -2.8°
✅ Yaw Correction Success: -2.8°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📦 Saved 1 objects to cell (3, 3)
✅ Saved 1 objects to map at next position (3, 3)
   📦 Object: Green Rectangle_H in Center zone (in center of cell)
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to E at (3,3) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -3.0° -> 0.0°. Rotating: -3.0°
✅ Yaw Correction Success: -3.0°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.557/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 14.48 cm
[ToF] Too close to front wall. Moving backward...
[ToF] Adjusting... Current Distance: 18.77 cm
[ToF] ✅ Centering complete. Final distance: 18.77 cm
📍 [moved_to_new_node] Position: (3, 3), Direction: East, Time: 2025-10-05T07:31:46.846626Z
🚫 Front wall detected at new position - Skipping object detection

--- Step 4 at (3, 3), Facing: E ---
📍 [step_4] Position: (3, 3), Direction: East, Time: 2025-10-05T07:31:47.033225Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -0.8° -> 0.0°. Rotating: -0.8°
✅ Yaw Correction Success: -0.8°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 21.5cm -> OCCUPIED

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Right side: WALL

--- Adjusting Right Side (Yaw locked at 0.00°) ---
   -> Config: ID=2, Port=1, Target=13.0cm
Adjusting Right... Current: 11.72cm, Target: 13.0cm, Error:  1.28cm, Speed: -0.058
[Right] Target distance reached! Final distance: 12.26 cm

🔧 Correcting Yaw: -0.6° -> 0.0°. Rotating: -0.6°
✅ Yaw Correction Success: -0.6°
--- Performing Scan for Mapping (Front ToF Only) ---
🚫 Front wall detected - Skipping object detection until robot turns to new direction
🔍 Object detection will be performed after robot turns to clear path
Path to N at (2,3) seems clear. Attempting move.
🔄 Rotating 90° LEFT...

🔧 Correcting Yaw: -0.5° -> -90.0°. Rotating: 89.5°
✅ Yaw Correction Success: -88.5°
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -89.2° -> -90.0°. Rotating: 0.8°
✅ Yaw Correction Success: -89.2°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.562/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 193.91 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (2, 3), Direction: North, Time: 2025-10-05T07:31:55.869130Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 5 at (2, 3), Facing: N ---
📍 [step_5] Position: (2, 3), Direction: North, Time: 2025-10-05T07:31:57.037549Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -90.4° -> -90.0°. Rotating: -0.4°
✅ Yaw Correction Success: -90.4°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 194.4cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Left side: WALL

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

--- Adjusting Left Side (Yaw locked at -90.00°) ---
   -> Config: ID=1, Port=1, Target=13.0cm
Adjusting Left... Current: 11.48cm, Target: 13.0cm, Error:  1.52cm, Speed: 0.068
[Left] Target distance reached! Final distance: 13.13 cm

🔧 Correcting Yaw: -92.0° -> -90.0°. Rotating: -2.0°
✅ Yaw Correction Success: -92.0°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to N at (1,3) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -92.0° -> -90.0°. Rotating: -2.0°
✅ Yaw Correction Success: -92.0°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.569/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 139.28 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (1, 3), Direction: North, Time: 2025-10-05T07:32:04.700381Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 6 at (1, 3), Facing: N ---
📍 [step_6] Position: (1, 3), Direction: North, Time: 2025-10-05T07:32:05.846595Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -90.8° -> -90.0°. Rotating: -0.8°
✅ Yaw Correction Success: -90.8°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 140.2cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: -92.3° -> -90.0°. Rotating: -2.3°
✅ Yaw Correction Success: -92.3°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to N at (0,3) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -94.8° -> -90.0°. Rotating: -4.8°
✅ Yaw Correction Success: -92.1°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.561/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 82.78 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (0, 3), Direction: North, Time: 2025-10-05T07:32:13.188873Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 7 at (0, 3), Facing: N ---
📍 [step_7] Position: (0, 3), Direction: North, Time: 2025-10-05T07:32:14.352786Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -90.7° -> -90.0°. Rotating: -0.7°
✅ Yaw Correction Success: -90.7°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 82.3cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Left side: WALL

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Right side: WALL

--- Adjusting Left Side (Yaw locked at -90.00°) ---
   -> Config: ID=1, Port=1, Target=13.0cm
Adjusting Left... Current: 14.73cm, Target: 13.0cm, Error: -1.73cm, Speed: -0.078
[Left] Target distance reached! Final distance: 13.37 cm

--- Adjusting Right Side (Yaw locked at -90.00°) ---
   -> Config: ID=2, Port=1, Target=13.0cm
Adjusting Right... Current: 13.99cm, Target: 13.0cm, Error: -0.99cm, Speed: 0.044
[Right] Target distance reached! Final distance: 13.67 cm

🔧 Correcting Yaw: -91.5° -> -90.0°. Rotating: -1.5°
✅ Yaw Correction Success: -91.5°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
No immediate unvisited path. Initiating backtrack...
🎯 Executing Backtrack Path: [(0, 3), (1, 3), (1, 2)]
📍 [Backtrack_start] Position: (0, 3), Direction: North, Time: 2025-10-05T07:32:19.823429Z
🔄 Rotating 90° RIGHT...

🔧 Correcting Yaw: -91.5° -> 0.0°. Rotating: -91.5°
✅ Yaw Correction Success: -1.2°
🔄 Rotating 90° RIGHT...

🔧 Correcting Yaw: -1.3° -> 90.0°. Rotating: -91.3°
✅ Yaw Correction Success: 88.5°
   -> [Backtrack] Confirming path to (1,3) with ToF...
   -> [Backtrack] Real-time ToF check: Path is CLEAR.

🔧 Correcting Yaw: 88.3° -> 90.0°. Rotating: -1.7°
✅ Yaw Correction Success: 88.3°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.565/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 135.53 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [Backtrack_moved] Position: (1, 3), Direction: South, Time: 2025-10-05T07:32:28.169620Z
   -> [Backtrack] Performing side alignment at new position (1, 3)

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 135.8cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 87.7° -> 90.0°. Rotating: -2.3°
✅ Yaw Correction Success: 87.7°
🔍 [Backtrack] Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 [Backtrack] Object detection completed at new position
🔄 Rotating 90° RIGHT...

🔧 Correcting Yaw: 85.6° -> 180.0°. Rotating: -94.4°
✅ Yaw Correction Success: 178.8°
   -> [Backtrack] Confirming path to (1,2) with ToF...
   -> [Backtrack] Real-time ToF check: Path is CLEAR.

🔧 Correcting Yaw: 178.7° -> 180.0°. Rotating: -1.3°
✅ Yaw Correction Success: 178.7°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.561/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 137.14 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [Backtrack_moved] Position: (1, 2), Direction: West, Time: 2025-10-05T07:32:38.666464Z
   -> [Backtrack] Performing side alignment at new position (1, 2)

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 136.6cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at -90°: ['18.3', '18.3', '18.0'] cm
    -> Average ToF reading: 18.20 cm.
    -> ToF Confirmation: WALL DETECTED.
    -> Final Result for Left side: WALL

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Right side: WALL

--- Adjusting Left Side (Yaw locked at 180.00°) ---
   -> Config: ID=1, Port=1, Target=13.0cm
Adjusting Left... Current: 13.86cm, Target: 13.0cm, Error: -0.86cm, Speed: -0.039
[Left] Target distance reached! Final distance: 13.80 cm

--- Adjusting Right Side (Yaw locked at 180.00°) ---
   -> Config: ID=2, Port=1, Target=13.0cm

[Right] Target distance reached! Final distance: 13.67 cm

🔧 Correcting Yaw: 177.3° -> 180.0°. Rotating: -2.7°
✅ Yaw Correction Success: 177.3°
🔍 [Backtrack] Performing object detection at new position...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 [Backtrack] Object detection completed at new position
✅ Backtrack complete.
Backtrack to new area complete. Resuming exploration.

--- Step 8 at (1, 2), Facing: W ---
📍 [step_8] Position: (1, 2), Direction: West, Time: 2025-10-05T07:32:44.767018Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 177.3° -> 180.0°. Rotating: -2.7°
✅ Yaw Correction Success: 177.3°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 137.2cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Left side: WALL

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Right side: WALL

--- Adjusting Left Side (Yaw locked at 180.00°) ---
   -> Config: ID=1, Port=1, Target=13.0cm
Adjusting Left... Current: 13.86cm, Target: 13.0cm, Error: -0.86cm, Speed: -0.039
[Left] Target distance reached! Final distance: 13.80 cm

--- Adjusting Right Side (Yaw locked at 180.00°) ---
   -> Config: ID=2, Port=1, Target=13.0cm

[Right] Target distance reached! Final distance: 13.67 cm

🔧 Correcting Yaw: 177.2° -> 180.0°. Rotating: -2.8°
✅ Yaw Correction Success: 177.2°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📭 No objects detected
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to W at (1,1) seems clear. Attempting move.
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: 177.2° -> 180.0°. Rotating: -2.8°
✅ Yaw Correction Success: 177.2°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.569/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 80.81 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (1, 1), Direction: West, Time: 2025-10-05T07:32:52.453667Z
🔍 Performing object detection at new position...
🔍 Detection mode activated for 1 second
📦 Saved 1 objects to cell (1, 0)
✅ Saved 1 objects to map at next position (1, 0)
   📦 Object: Red Rectangle_V in Center zone (in center of cell)
🔍 Detection mode deactivated
🔍 Object detection completed at new position

--- Step 9 at (1, 1), Facing: W ---
📍 [step_9] Position: (1, 1), Direction: West, Time: 2025-10-05T07:32:53.647036Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: 179.0° -> 180.0°. Rotating: -1.0°
✅ Yaw Correction Success: 179.0°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 80.4cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 176.8° -> 180.0°. Rotating: -3.2°
✅ Yaw Correction Success: 178.0°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
📦 Saved 1 objects to cell (1, 0)
✅ Saved 1 objects to map at next position (1, 0)
   📦 Object: Red Rectangle_V in Center zone (in center of cell)
🔍 Detection mode deactivated
🔍 Automatic object detection completed
Path to N at (0,1) seems clear. Attempting move.
🔄 Rotating 90° RIGHT...

🔧 Correcting Yaw: 178.0° -> -90.0°. Rotating: -92.0°
✅ Yaw Correction Success: -91.3°
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -91.5° -> -90.0°. Rotating: -1.5°
✅ Yaw Correction Success: -91.5°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'y'
Moving... Dist: 0.568/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 59.36 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [moved_to_new_node] Position: (0, 1), Direction: North, Time: 2025-10-05T07:33:03.304867Z
🚫 Front wall detected at new position - Skipping object detection

--- Step 10 at (0, 1), Facing: N ---
📍 [step_10] Position: (0, 1), Direction: North, Time: 2025-10-05T07:33:03.429721Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -90.9° -> -90.0°. Rotating: -0.9°
✅ Yaw Correction Success: -90.9°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 58.8cm -> OCCUPIED

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: WALL
    -> Ambiguity detected! Confirming with ToF...
    -> ToF readings at -90°: ['79.0', '79.0', '79.0'] cm
    -> Average ToF reading: 79.03 cm.
    -> ToF Confirmation: NO WALL.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: -93.8° -> -90.0°. Rotating: -3.8°
✅ Yaw Correction Success: -91.8°
--- Performing Scan for Mapping (Front ToF Only) ---
🔍 Starting automatic object detection after alignment...
🔍 Detection mode activated for 1 second
✅ Saved 1 objects to map at next position (-1, 1)
   📦 Object: Blue Uncertain in Center zone (in center of cell) 
🔍 Detection mode deactivated
🔍 Automatic object detection completed
🔩 IMU Drift Compensation Updated: Visited 10 nodes. New offset is -2.0°
Path to E at (0,2) seems clear. Attempting move.
🔄 Rotating 90° RIGHT...

🔧 Correcting Yaw: -91.9° -> -2.0°. Rotating: -89.9°
✅ Yaw Correction Success: -3.2°
    Ensuring gimbal is centered before ToF confirmation...
    Confirming path forward with ToF...
    ToF confirmation: Wall belief updated. Path is CLEAR.

🔧 Correcting Yaw: -4.3° -> -2.0°. Rotating: -2.3°
✅ Yaw Correction Success: -4.3°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.549/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 20.02 cm
[ToF] Too far from front wall. Moving forward...
[ToF] Adjusting... Current Distance: 19.84 cm
[ToF] ✅ Centering complete. Final distance: 19.84 cm
📍 [moved_to_new_node] Position: (0, 2), Direction: East, Time: 2025-10-05T07:33:15.772088Z
🚫 Front wall detected at new position - Skipping object detection

--- Step 11 at (0, 2), Facing: E ---
📍 [step_11] Position: (0, 2), Direction: East, Time: 2025-10-05T07:33:15.935423Z
   -> Resetting Yaw to ensure perfect alignment before new step...

🔧 Correcting Yaw: -2.9° -> -2.0°. Rotating: -0.9°
✅ Yaw Correction Success: -2.9°

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 17.9cm -> OCCUPIED

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Left side: WALL

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: WALL
    -> IR    -> Suggests: WALL
    -> Decision: Sensors agree. Result is WALL.
    -> Final Result for Right side: WALL

--- Adjusting Left Side (Yaw locked at -2.00°) ---
   -> Config: ID=1, Port=1, Target=13.0cm
Adjusting Left... Current: 11.72cm, Target: 13.0cm, Error:  1.28cm, Speed: 0.058
[Left] Target distance reached! Final distance: 12.96 cm

--- Adjusting Right Side (Yaw locked at -2.00°) ---
   -> Config: ID=2, Port=1, Target=13.0cm
Adjusting Right... Current: 12.06cm, Target: 13.0cm, Error:  0.94cm, Speed: -0.042
[Right] Target distance reached! Final distance: 13.73 cm

🔧 Correcting Yaw: -2.7° -> -2.0°. Rotating: -0.7°
✅ Yaw Correction Success: -2.7°
--- Performing Scan for Mapping (Front ToF Only) ---
🚫 Front wall detected - Skipping object detection until robot turns to new direction
🔍 Object detection will be performed after robot turns to clear path
No immediate unvisited path. Initiating backtrack...
🎯 Executing Backtrack Path: [(0, 2), (0, 1), (0, 0)]
📍 [Backtrack_start] Position: (0, 2), Direction: East, Time: 2025-10-05T07:33:19.736318Z
🔄 Rotating 90° RIGHT...

🔧 Correcting Yaw: -2.7° -> 88.0°. Rotating: -90.7°
✅ Yaw Correction Success: 87.1°
🔄 Rotating 90° RIGHT...

🔧 Correcting Yaw: 87.8° -> 178.0°. Rotating: -90.2°
✅ Yaw Correction Success: 176.8°
   -> [Backtrack] Confirming path to (0,1) with ToF...
   -> [Backtrack] Real-time ToF check: Path is CLEAR.

🔧 Correcting Yaw: 176.8° -> 178.0°. Rotating: -1.2°
✅ Yaw Correction Success: 176.8°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
Moving... Dist: 0.562/0.60 m
✅ Move complete!

--- Stage: Centering in Node with ToF ---
[ToF] Initial front distance: 77.77 cm
[ToF] Distance >= 50cm, likely in an open space. Skipping centering.
📍 [Backtrack_moved] Position: (0, 1), Direction: West, Time: 2025-10-05T07:33:28.296959Z
   -> [Backtrack] Performing side alignment at new position (0, 1)

--- Stage: Wall Detection & Side Alignment ---
[SCAN] Front (ToF): 77.4cm -> FREE

[SCAN] Left Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Left side: FREE

[SCAN] Right Side Analysis:
    -> Sharp -> Suggests: FREE
    -> IR    -> Suggests: FREE
    -> Decision: Sensors agree. Result is FREE.
    -> Final Result for Right side: FREE

⚠️  WARNING: No side walls detected. Skipping alignment.

🔧 Correcting Yaw: 174.8° -> 178.0°. Rotating: -3.2°
✅ Yaw Correction Success: 175.7°
🔍 [Backtrack] Performing object detection at new position...
🔍 Detection mode activated for 1 second
📦 Saved 1 objects to cell (0, 0)
✅ Saved 1 objects to map at next position (0, 0)
   📦 Object: Red Rectangle_V in Right zone (attached to right wall)
🔍 Detection mode deactivated
🔍 [Backtrack] Object detection completed at new position
   -> [Backtrack] Confirming path to (0,0) with ToF...
   -> [Backtrack] Real-time ToF check: Path is CLEAR.

🔧 Correcting Yaw: 175.5° -> 178.0°. Rotating: -2.5°
✅ Yaw Correction Success: 175.5°
🚀 Moving FORWARD 0.6m, monitoring GLOBAL AXIS 'x'
⚠️ Camera read error: /0.60 m
⚠️ Camera read error: /0.60 m
Moving... Dist: 0.508/0.60 m
⚠️ User interrupted exploration.⚠️ No frames received for 5 seconds, checking camera connection...

⚠️ Camera read error:
💾 Saving data before exit...
⚠️ Too many camera errors → drop & reconnect